.core-selection{margin-bottom:var(--spacing-xl);background-color:var(--bg-secondary);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:0 2px 12px var(--shadow)}.core-selection__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg)}.core-selection__title{composes:common-title from "../../styles/common.css"}.core-selection__reset-btn{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--point-primary);color:#fff;border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:opacity var(--transition-fast)}.core-selection__reset-btn:hover{opacity:.9}.core-selection__section{margin-bottom:var(--spacing-lg)}.core-selection__section:last-child{margin-bottom:0}.core-selection__grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--spacing-lg)}.core-card{background-color:var(--bg-primary);border-radius:var(--radius-lg);padding:var(--spacing-lg);box-shadow:0 2px 8px var(--shadow);border:2px solid;transition:all var(--transition-normal)}.core-card--order{border-color:var(--order-light)}.core-card--chaos{border-color:var(--chaos-light)}.core-card__title{font-size:1.2rem;font-weight:600;margin-bottom:var(--spacing-md);text-align:center}.core-card--order .core-card__title{color:var(--order-primary)}.core-card--chaos .core-card__title{color:var(--chaos-primary)}.core-card__grades{margin-bottom:var(--spacing-md)}.core-card__grades-header{display:flex;justify-content:space-between;align-items:center}.core-card__section-title{font-size:.9rem;font-weight:500;color:var(--text-secondary);line-height:1.2}.core-card__grade-buttons{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-sm);margin-top:var(--spacing-sm)}.core-card__grade-btn{composes:common-btn-text from "../../styles/common.css";padding:var(--spacing-sm) var(--spacing-md);background-color:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border-color);border-radius:var(--radius-md)}.core-card__grade-btn:hover:not(:disabled){opacity:.8}.core-card__grade-btn--active{background-color:var(--point-primary);color:#fff;border-color:var(--point-primary)}.core-card__willpower{font-size:.9rem;color:var(--text-secondary);line-height:1.2}.core-card__priorities{margin-top:var(--spacing-md);padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.core-card__priority-buttons{display:flex;flex-wrap:wrap;gap:var(--spacing-sm);margin-top:var(--spacing-sm)}.core-card__priority-btn{composes:common-btn-text from "../../styles/common.css";position:relative;padding:var(--spacing-sm) var(--spacing-md);background-color:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border-color);border-radius:var(--radius-md);white-space:nowrap}.core-card__priority-btn:hover:not(:disabled){opacity:.8}.core-card__priority-btn:disabled{background-color:var(--btn-disabled-bg);color:var(--btn-disabled-text);cursor:not-allowed}.core-card__priority-btn--selected{background-color:var(--point-primary);color:#fff;border-color:var(--point-primary)}.core-card__priority-badge{composes:common-small-text from "../../styles/common.css";display:inline-block;margin-left:var(--spacing-xs);background-color:var(--text-primary);color:var(--bg-primary);padding:2px 4px;border-radius:4px;line-height:1}@media(max-width:768px){.core-selection__grid{grid-template-columns:1fr}.core-card__priority-buttons{justify-content:center}}.gem-input{margin-bottom:var(--spacing-xl);background-color:var(--bg-secondary);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:0 2px 12px var(--shadow)}.gem-input__title{composes:common-title from "../../styles/common.css";margin-bottom:var(--spacing-lg)}.gem-input__form{background-color:var(--bg-primary);border-radius:var(--radius-md);padding:var(--spacing-lg);border:2px solid var(--border-color);margin-bottom:var(--spacing-xl)}.gem-input__form-title{font-size:1.2rem;font-weight:600;margin-bottom:var(--spacing-md);color:var(--text-primary)}.gem-input__form-grid{display:flex;flex-direction:column;gap:var(--spacing-md)}.gem-input__row{display:flex;gap:var(--spacing-lg);align-items:flex-start}.gem-input__field{flex:1;display:flex;flex-direction:column;gap:var(--spacing-sm)}.gem-input__label{composes:common-label from "../../styles/common.css"}.gem-input__button-group{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.gem-input__btn{composes:common-btn-text from "../../styles/common.css";padding:var(--spacing-sm) var(--spacing-md);background-color:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border-color);border-radius:var(--radius-md)}.gem-input__btn:hover:not(:disabled){opacity:.8}.gem-input__btn--active{background-color:var(--point-primary);color:#fff;border-color:var(--point-primary)}.gem-input__btn--type{padding:var(--spacing-sm) var(--spacing-md);font-size:.85rem}.gem-input__btn--order.gem-input__btn--active{background-color:var(--order-primary);border-color:var(--order-primary)}.gem-input__btn--chaos.gem-input__btn--active{background-color:var(--chaos-primary);border-color:var(--chaos-primary)}.gem-input__add-btn{margin-top:var(--spacing-lg);width:100%;padding:var(--spacing-sm) var(--spacing-md);background-color:var(--point-primary);color:#fff;border:none;border-radius:var(--radius-md);font-size:.95rem;font-weight:600;transition:all var(--transition-fast)}.gem-input__add-btn:hover{opacity:.9}.gem-list{background-color:var(--bg-secondary);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:0 2px 12px var(--shadow);margin-bottom:var(--spacing-xl)}.gem-list__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg)}.gem-list__title{composes:common-subtitle from "../../styles/common.css";margin-bottom:0}.gem-list__reset-btn{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--point-primary);color:#fff;border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:opacity var(--transition-fast)}.gem-list__reset-btn:hover{opacity:.8}.gem-list__subtitle{composes:common-label from "../../styles/common.css";margin-top:var(--spacing-lg);margin-bottom:var(--spacing-md)}.gem-list__subtitle:first-of-type{margin-top:0}.gem-compact-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--spacing-md);max-height:400px;overflow-y:auto;padding:var(--spacing-lg);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--bg-primary)}.gem-compact-card{composes:common-card-stat from "../../styles/common.css";display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-sm);background-color:var(--bg-tertiary);border-radius:var(--radius-sm);border-left:3px solid;transition:background-color var(--transition-fast)}.gem-compact-card--order{border-left-color:var(--order-primary)}.gem-compact-card--chaos{border-left-color:var(--chaos-primary)}.gem-compact-card:hover{background-color:var(--bg-secondary)}.gem-compact-card__header{display:flex;justify-content:space-between;align-items:center}.gem-compact-card__name{composes:common-card-name from "../../styles/common.css"}.gem-compact-card--order .gem-compact-card__name{color:var(--order-primary)}.gem-compact-card--chaos .gem-compact-card__name{color:var(--chaos-primary)}.gem-compact-card__row{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs)}.gem-compact-card__stat{font-size:.9rem;color:var(--text-secondary);white-space:nowrap}.gem-compact-card__remove{padding:2px 8px;background-color:var(--error);color:#fff;border:none;border-radius:var(--radius-sm);font-size:.7rem;font-weight:500;cursor:pointer;white-space:nowrap}.gem-compact-card__remove:hover{opacity:.8}@media(max-width:1024px){.gem-input__row{flex-direction:column}}@media(max-width:768px){.gem-input__button-group{justify-content:center}.gem-compact-card{flex-wrap:wrap;font-size:.75rem}}.gem-preset{margin-bottom:var(--spacing-xl);background-color:var(--bg-secondary);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:0 2px 12px var(--shadow)}.gem-preset__title{composes:common-title from "../../styles/common.css";margin-bottom:var(--spacing-lg)}.gem-preset__save-section{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-lg)}.gem-preset__input{flex:1;padding:var(--spacing-sm) var(--spacing-md);background-color:var(--bg-primary);color:var(--text-primary);border:2px solid var(--border-color);border-radius:var(--radius-md);font-size:.9rem;transition:border-color var(--transition-fast)}.gem-preset__input:focus{outline:none;border-color:var(--point-primary)}.gem-preset__input::placeholder{color:var(--text-secondary)}.gem-preset__save-btn{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--point-primary);color:#fff;border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:opacity var(--transition-fast);white-space:nowrap}.gem-preset__save-btn:hover{opacity:.9}.gem-preset__list{padding-top:var(--spacing-lg);border-top:2px solid var(--border-color)}.gem-preset__list-title{composes:common-subtitle from "../../styles/common.css";margin-bottom:var(--spacing-md)}.gem-preset__cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:var(--spacing-md)}.gem-preset__card{background-color:var(--bg-primary);border:2px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md);transition:all var(--transition-fast)}.gem-preset__card--active{border-color:var(--point-primary);box-shadow:0 0 0 2px var(--point-light)}.gem-preset__card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.gem-preset__card-name{font-size:1rem;font-weight:600;color:var(--text-primary)}.gem-preset__card-count{font-size:.85rem;color:var(--text-secondary);padding:var(--spacing-xs) var(--spacing-sm);background-color:var(--bg-secondary);border-radius:var(--radius-sm)}.gem-preset__card-actions{display:flex;gap:var(--spacing-sm)}.gem-preset__card-btn{flex:1;padding:var(--spacing-xs) var(--spacing-md);border:none;border-radius:var(--radius-md);font-size:.85rem;font-weight:600;cursor:pointer;transition:opacity var(--transition-fast)}.gem-preset__card-btn:hover{opacity:.9}.gem-preset__card-btn--load{background-color:var(--point-primary);color:#fff}.gem-preset__card-btn--delete{background-color:var(--error);color:#fff}@media(max-width:768px){.gem-preset__save-section{flex-direction:column}.gem-preset__cards{grid-template-columns:1fr}}.result-display{margin-top:var(--spacing-xl);padding:var(--spacing-xl);background-color:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:0 2px 12px var(--shadow)}.result-display__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg)}.result-display__title{composes:common-title from "../../styles/common.css"}.result-display__role-badge{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--point-primary);color:#fff;border-radius:var(--radius-md);font-size:1rem;font-weight:600}.result-display__loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);gap:var(--spacing-md)}.result-display__spinner{width:48px;height:48px;border:4px solid var(--border-color);border-top-color:var(--text-primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.result-display__section{margin-bottom:var(--spacing-xl)}.result-display__section:last-child{margin-bottom:0}.result-display__grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--spacing-lg)}.result-card{background-color:var(--bg-primary);border-radius:var(--radius-lg);padding:var(--spacing-lg);box-shadow:0 2px 8px var(--shadow);border:3px solid}.result-card--success{border-color:var(--success)}.result-card--partial{border-color:var(--warning)}.result-card--failed{border-color:var(--error)}.result-card__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-md);border-bottom:2px solid var(--border-color)}.result-card__title{font-size:1.3rem;font-weight:600}.result-card__title--order{color:var(--order-primary)}.result-card__title--chaos{color:var(--chaos-primary)}.result-card__status{padding:var(--spacing-xs) var(--spacing-md);border-radius:var(--radius-md);font-size:.85rem;font-weight:600;color:#fff}.result-card__status--success{background-color:var(--success)}.result-card__status--partial{background-color:var(--warning)}.result-card__status--failed{background-color:var(--error)}.result-card__grade-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.result-card__grade,.result-card__willpower{font-size:.9rem;color:var(--text-secondary)}.result-card__section-title{composes:common-label from "../../styles/common.css";margin-bottom:var(--spacing-sm)}.result-card__priorities-section,.result-card__combination{margin-bottom:var(--spacing-md)}.result-card__requirements{margin-bottom:0}.result-card__priorities{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.result-card__priority{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-md);border-radius:var(--radius-md);font-size:.9rem}.result-card__priority--success{background-color:var(--success);color:#fff}.result-card__priority--failed{background-color:var(--error);color:#fff}.result-card__priority-badge{composes:common-small-text from "../../styles/common.css"}.result-card__priority-point{composes:common-text from "../../styles/common.css";font-weight:500}.result-card__priority-status{composes:common-small-text from "../../styles/common.css";margin-left:auto;padding:2px 6px;border-radius:var(--radius-sm);background-color:#ffffff4d}.result-card__stats{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-bottom:var(--spacing-md);padding:var(--spacing-md);background-color:var(--bg-primary);border-radius:var(--radius-md)}.result-card__stat{display:flex;justify-content:space-between;font-size:.9rem;color:var(--text-secondary)}.result-card__stat-value{font-weight:600;color:var(--text-primary)}.result-card__gems{display:flex;flex-direction:column;gap:var(--spacing-sm)}.result-gem{padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);border:2px solid;background-color:var(--bg-primary)}.result-gem--order{border-color:var(--order-light)}.result-gem--chaos{border-color:var(--chaos-light)}.result-gem__name{composes:common-card-name from "../../styles/common.css";margin-bottom:var(--spacing-xs)}.result-gem__replaced-info{font-size:.8rem;font-weight:400;color:var(--text-secondary)}.result-gem--order .result-gem__name{color:var(--order-primary)}.result-gem--chaos .result-gem__name{color:var(--chaos-primary)}.result-gem__stats{font-size:.9rem;color:var(--text-secondary);display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs)}.result-card__requirement-info{padding:var(--spacing-md);background-color:var(--bg-primary);border-radius:var(--radius-md)}.result-card__requirement-info p{font-size:.9rem;color:var(--text-secondary);margin-bottom:var(--spacing-xs)}.result-card__requirement-info p:last-child{margin-bottom:0}@media(max-width:1024px){.result-display__grid{grid-template-columns:1fr}}.app{min-height:100vh;display:flex;flex-direction:column;background-color:var(--bg-primary)}.app__header{background-color:var(--bg-secondary);border-bottom:2px solid var(--border-color);padding:var(--spacing-md) 0;box-shadow:0 2px 8px var(--shadow);position:sticky;top:0;z-index:100}.app__header-content{max-width:1280px;margin:0 auto;padding:0 var(--spacing-lg);display:flex;justify-content:space-between;align-items:center}.app__title{font-size:1.3rem;font-weight:700;color:var(--text-primary)}.app__theme-toggle{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--bg-primary);color:var(--text-primary);border:2px solid var(--border-color);border-radius:var(--radius-md);font-size:.95rem;font-weight:500;transition:all var(--transition-fast)}.app__theme-toggle:hover{background-color:var(--text-primary);color:var(--bg-primary)}.app__main{flex:1;padding:var(--spacing-xl) 0}.app__container{max-width:1280px;margin:0 auto;padding:0 var(--spacing-lg)}.app__actions{display:flex;justify-content:center;gap:var(--spacing-md);margin-bottom:var(--spacing-xl);padding:var(--spacing-xl);background-color:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:0 2px 12px var(--shadow)}.app__calculate-btn{padding:var(--spacing-md) var(--spacing-lg);color:#fff;border:none;border-radius:var(--radius-md);font-size:1rem;font-weight:600;min-width:180px;transition:all var(--transition-fast);box-shadow:0 2px 8px var(--shadow)}.app__calculate-btn--dealer,.app__calculate-btn--supporter{background-color:var(--point-primary)}.app__calculate-btn--dealer:hover:not(:disabled),.app__calculate-btn--supporter:hover:not(:disabled){background-color:var(--point-secondary)}.app__calculate-btn:hover:not(:disabled){opacity:.9}.app__calculate-btn:disabled{opacity:.6}.app__footer{background-color:var(--bg-secondary);border-top:2px solid var(--border-color);padding:var(--spacing-lg);text-align:center;color:var(--text-secondary);font-size:.9rem}@media(max-width:768px){.app__header-content{flex-direction:column;gap:var(--spacing-md)}.app__title{font-size:1.5rem}.app__actions{flex-direction:column}.app__calculate-btn{width:100%;min-width:auto}.app__container{padding:0 var(--spacing-md)}}:root{--bg-primary: #ffffff;--bg-secondary: #f5f5f5;--bg-tertiary: #e8e8e8;--text-primary: #1a1a1a;--text-secondary: #666666;--text-disabled: #999999;--border-color: #d0d0d0;--shadow: rgba(0, 0, 0, .1);--point-primary: #7c3aed;--point-secondary: #9333ea;--point-light: #ede9fe;--point-dark: #6d28d9;--order-primary: #c41e3a;--order-secondary: #e74c3c;--order-light: #fadbd8;--order-dark: #8b1a2d;--order-hover: #a01729;--chaos-primary: #2874a6;--chaos-secondary: #3498db;--chaos-light: #d6eaf8;--chaos-dark: #1a5276;--chaos-hover: #1f5f8b;--success: #27ae60;--success-light: #d5f4e6;--warning: #f39c12;--warning-light: #fdebd0;--error: #c0392b;--error-light: #fadbd8;--btn-hover: rgba(0, 0, 0, .05);--btn-active: rgba(0, 0, 0, .1);--btn-disabled-bg: #e0e0e0;--btn-disabled-text: #a0a0a0;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 16px;--spacing-lg: 24px;--spacing-xl: 32px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--transition-fast: .15s ease-in-out;--transition-normal: .25s ease-in-out}[data-theme=dark]{--bg-primary: #1a1a1a;--bg-secondary: #2d2d2d;--bg-tertiary: #3a3a3a;--text-primary: #e8e8e8;--text-secondary: #b0b0b0;--text-disabled: #6a6a6a;--border-color: #4a4a4a;--shadow: rgba(0, 0, 0, .3);--point-primary: #a78bfa;--point-secondary: #8b5cf6;--point-light: #2e1065;--point-dark: #c4b5fd;--order-primary: #e74c3c;--order-secondary: #ec7063;--order-light: #3a2121;--order-dark: #c41e3a;--order-hover: #d13d2f;--chaos-primary: #3498db;--chaos-secondary: #5dade2;--chaos-light: #1e2f3f;--chaos-dark: #2874a6;--chaos-hover: #2e86c1;--success: #2ecc71;--success-light: #1e3a29;--warning: #f5b041;--warning-light: #3a2f1e;--error: #e74c3c;--error-light: #3a2121;--btn-hover: rgba(255, 255, 255, .05);--btn-active: rgba(255, 255, 255, .1);--btn-disabled-bg: #2a2a2a;--btn-disabled-text: #5a5a5a}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--bg-primary);color:var(--text-primary);line-height:1.6;transition:background-color var(--transition-normal),color var(--transition-normal)}button{font-family:inherit;cursor:pointer;border:none;outline:none;transition:all var(--transition-fast)}button:disabled{cursor:not-allowed;opacity:.6}input{font-family:inherit}.common-title{font-size:1.5rem;font-weight:700;color:var(--text-primary)}.common-subtitle{font-size:1.3rem;font-weight:600;color:var(--text-primary)}.common-label{font-size:.85rem;font-weight:500;color:var(--text-secondary);line-height:1.2}.common-text{font-size:.85rem;color:var(--text-secondary);line-height:1.2}.common-btn-text{font-size:.9rem;font-weight:500}.common-small-text{font-size:.75rem;font-weight:600}.common-card-name{font-size:.9rem;font-weight:600}.common-card-stat,.common-info-text{font-size:.9rem;color:var(--text-secondary)}
